@model MyAppFirst.Models.Pedido
@{
    var platos = ViewBag.Platos as List<MyAppFirst.Models.Plato> ?? new List<MyAppFirst.Models.Plato>();
    string username = ViewBag.Username as string ?? "Desconocido";
}

<h3>Nuevo Pedido</h3>
<p>Atendido por: <strong>@username</strong></p>

<form asp-action="Create" method="post">
    <div class="form-group">
        <label>Mesa</label>
        <input asp-for="NumeroMesa" class="form-control" />
    </div>

    <h4>Platos</h4>
    @for (int i = 0; i < platos.Count; i++)
    {
        <div class="form-group">
            <label>@platos[i].Nombre (@platos[i].Precio.ToString("N2"))</label>
            <input type="hidden" name="platoIds[@i]" value="@platos[i].Id" />
            <input type="number" name="cantidades[@i]" class="form-control" min="0" value="0" />
        </div>
    }

    <button type="submit" class="btn btn-primary">Enviar a Cocina</button>
</form>
